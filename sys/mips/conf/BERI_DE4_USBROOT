#
# BERI -- Kernel for the SRI/Cambridge "BERI" (Bluespec Extensiable RISC
# Implementation) FPGA soft core, as configured in its Terasic DE-4
# reference configuration.
#
# $FreeBSD$
#

include		BERI_DE4_SDROOT
ident		BERI_DE4_USBROOT

makeoptions	MODULES_OVERRIDE=""

device		pci
device		em
device		iflib

nooptions	ROOTDEVNAME
options 	ROOTDEVNAME=\"ufs:/dev/da0\"
#options 	ROOTDEVNAME=\"ufs:/dev/altera_sdcard0\"
device		scbus
device		pass
#device		umass
#device		da
device		ahci
device		syscon
device		ext_resources

#options 	SMP
#options 	MIPS64_NEW_PMAP

options 	FDT_DTB_STATIC
makeoptions	FDT_DTS_FILE=beripad-de4-msgdma.dts

options 	MD_ROOT
#options 	MD_ROOT_SIZE=32768
options 	MD_ROOT_SIZE=24576
#makeoptions	MFS_IMAGE=/home/br/dev/freebsd-head/mips64.img
makeoptions	MFS_IMAGE=/home/br/dev/freebsd-head/mips.img
options 	ROOTDEVNAME=\"ufs:/dev/md0\"

#options 	KTR
#options 	KTR_CPUMASK=0x3
#options 	KTR_MASK=(KTR_SMP)
#options 	KTR_COMPILE=(KTR_SMP)
#options 	KTR_VERBOSE
